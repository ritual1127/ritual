
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì„±ì  ê³„ì‚°ê¸°</title>
  <style>
    body { font-family: Arial; max-width: 700px; margin: auto; padding: 20px; }
    input { width: 80px; margin: 5px; }
    .score-box { margin-bottom: 15px; }
    h2 { margin-top: 30px; }
  </style>
</head>
<body>
  <h1>ğŸ“Š ì„±ì  ê³„ì‚°ê¸°</h1>

  <h2>ìˆ˜í–‰í‰ê°€</h2>
  <div class="score-box">
    ìˆ˜í–‰1 ì ìˆ˜: <input type="number" id="s1" /> ë¹„ì¤‘(%): <input type="number" id="sw1" /><br />
    ìˆ˜í–‰2 ì ìˆ˜: <input type="number" id="s2" /> ë¹„ì¤‘(%): <input type="number" id="sw2" />
  </div>

  <h2>ì§€í•„í‰ê°€</h2>
  <div class="score-box">
    ì§€í•„1 ì ìˆ˜: <input type="number" id="t1" /> ë¹„ì¤‘(%): <input type="number" id="tw1" /><br />
    ì§€í•„2 ì ìˆ˜: <input type="number" id="t2" /> ë¹„ì¤‘(%): <input type="number" id="tw2" />
  </div>

  <button onclick="calculate()">ê³„ì‚°í•˜ê¸°</button>

  <h2>ê²°ê³¼</h2>
  <div id="result"></div>

  <script>
    function calculate() {
      const s1 = parseFloat(document.getElementById("s1").value) || 0;
      const sw1 = parseFloat(document.getElementById("sw1").value) || 0;
      const s2 = parseFloat(document.getElementById("s2").value) || 0;
      const sw2 = parseFloat(document.getElementById("sw2").value) || 0;
      const t1 = parseFloat(document.getElementById("t1").value) || 0;
      const tw1 = parseFloat(document.getElementById("tw1").value) || 0;
      const t2 = parseFloat(document.getElementById("t2").value) || 0;
      const tw2 = parseFloat(document.getElementById("tw2").value) || 0;

      const totalWeight = sw1 + sw2 + tw1 + tw2;
      if (totalWeight !== 100) {
        document.getElementById("result").innerHTML = `â— ì´ ë¹„ì¤‘ì´ 100%ê°€ ì•„ë‹™ë‹ˆë‹¤. í˜„ì¬: ${totalWeight}%`;
        return;
      }

      const s_total = s1 * (sw1 / 100) + s2 * (sw2 / 100);
      const t_total = t1 * (tw1 / 100) + t2 * (tw2 / 100);
      const final = s_total + t_total;

      let grade = "";
      if (final >= 90) grade = "A";
      else if (final >= 80) grade = "B";
      else if (final >= 70) grade = "C";
      else if (final >= 60) grade = "D";
      else grade = "F";

      const next = final >= 90 ? null : final >= 80 ? 90 : final >= 70 ? 80 : final >= 60 ? 70 : 60;
      const current = final >= 90 ? 90 : final >= 80 ? 80 : final >= 70 ? 70 : final >= 60 ? 60 : 0;
      const t_weight = (tw1 + tw2) / 100;

      let nextMsg = "", downMsg = "";
      if (next) {
        const needed = ((next - s_total) / t_weight).toFixed(2);
        nextMsg = `ğŸ“ˆ ë‹¤ìŒ ë“±ê¸‰(${String.fromCharCode(grade.charCodeAt(0) - 1)})ì„ ìœ„í•´ í•„ìš”í•œ ì§€í•„ ì ìˆ˜ ì´í•©: ${needed}ì  ì´ìƒ`;
      } else {
        nextMsg = "ğŸ‰ ì´ë¯¸ ìµœê³  ë“±ê¸‰ì…ë‹ˆë‹¤!";
      }

      const drop = ((current - 0.01 - s_total) / t_weight).toFixed(2);
      downMsg = `âš ï¸ ì§€í•„ ì ìˆ˜ê°€ ì´ ${drop}ì  ë¯¸ë§Œì´ë©´ ë“±ê¸‰ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`;

      document.getElementById("result").innerHTML =
        `ìµœì¢… ì ìˆ˜: <strong>${final.toFixed(2)}ì </strong><br/>
         ë“±ê¸‰: <strong>${grade}</strong><br/>${nextMsg}<br/>${downMsg}`;
    }
  </script>
</body>
</html>
